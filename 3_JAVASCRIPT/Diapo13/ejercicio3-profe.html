<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<title>Ejercicio 3 - Calcular días cumple</title>
</head>
<body>
	<h1>Dime el día de tu nacimiento</h1>
	<label>Dia: </label><input type="number" id="dia" min="1" max="31"><br />
	<label>Mes: </label><input type="number" id="mes" min="1" max="12"><br />
	<label>Año: </label><input type="number" id="any" min="1900" max="2100"><br />
	<button onclick="calcular(parseInt(dia.value), parseInt(mes.value),parseInt( any.value));">Cuanto queda</button>
	<hr>
	<h3 id="resultado"></h3>

	<script type="text/javascript">
		function calcular(dia, mes, any){
			//Recogemos el día actual y resetamos a 0 Horas, minutos, segundos y milisegundos
			var hoy = new Date();
			hoy.setHours(0,0,0,0);
			var cumple = new Date();
			cumple.setHours(0,0,0,0);

			//Añadimos a cumple, el día y el mes de tu cumpleaños
			cumple.setDate(dia);
			cumple.setMonth(mes-1);

			//Calculamos cuantos años hace que naciste
			var anyDif = hoy.getFullYear()-any;

			//Comparamos si el día de tu cumpleaños ya ha pasado o no. EN caso que no haya pasado, restamos cumple-hoy y lo convertimos de milisegundos a días
			//En caso que coincidan los días, le felicitamos el aniversario
			//En caso que tu cumple haya pasado este año, le sumaremos +1 al próximo día de tu cumpleaños
			if(cumple>hoy){
				var diferencia = cumple-hoy;
				diferencia = parseInt(((((diferencia/1000)/60)/60)/24));
				resultado.innerHTML = "Faltan "+diferencia+" días, para que llegue tu cumpleaños y cumplas " +anyDif+ ".";
			}else if(cumple.getTime() == hoy.getTime()){
				resultado.innerHTML = "FELICIDADES!! HOY CUMPLES "+anyDif+"!! <br /> <img src='cake.png' title='Felicidadesss' />";
			}else{
				cumple.setFullYear(cumple.getFullYear()+1);
				var diferencia = cumple-hoy;
				diferencia = parseInt(((((diferencia/1000)/60)/60)/24));
				resultado.innerHTML = "Faltan "+diferencia+" días, para que llegue tu cumpleaños.";
			}
		}
	</script>
</body>
</html>