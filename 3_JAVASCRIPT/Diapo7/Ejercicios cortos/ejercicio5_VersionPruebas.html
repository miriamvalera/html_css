<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<title>Ejercicio 5 - Número primo</title>
	<style>
		img{
			width: 200px;
		}
		.hide{
			visibility: hidden;
			transition: 1s;

		}
		.show{
			visibility: visible;
			transition: 1s;
		}
	</style>
</head>
<body>
	<h2>Calcular números primos</h2>
	<label>Introduce un número:</label>
	<input type="number" id="num" />
	<br />
	<p id="e" style="color: red;">Falta número</p>
	<button onclick="main(num.value)">¿Es Primo?</button>
	<br />
	<img src="gifanimado.gif" alt="gif" id="pausa">
	<script type="text/javascript">
		e = document.getElementById('e');
		e.style.visibility = "hidden";

		changeClass();
		// function sleep(milliseconds) {
		// 	var start = new Date().getTime();
		// 	for (var i = 0; i < 1e7; i++) {
		// 		if ((new Date().getTime() - start) > milliseconds){
		// 			break;
		// 		}
		// 	}
		// }
		function changeClass(){
			console.log('dentro')
			var img = document.getElementById('pausa');
			if (img.classList.contains('hide')) {
				img.classList.remove('hide');
				img.classList.add('show');
			}else{
				img.classList.remove('show');
				img.classList.add('hide');
			}
		}
		function esPrimo(n){
			e.style.visibility = "hidden";
			var count =0;
			for(i=1; i<=n && count<=2; i++){
				if (n%i==0){
					//count++;
					count += 1;
				}
			}
			if(count==2){
				alert('El número ' + n + ' es PRIMO');
			}else{
				alert('El número ' + n + ' NO es PRIMO');
			}
		}

		function main(n){
			changeClass();
			setTimeout(function(){ changeClass() }, 3000);
			console.log('dentro de waiting');
			setTimeout(function(){ esPrimo(n) }, 3500);
			//sleep(3000); //3 segundos;
		}
		
	</script>
</body>
</html>